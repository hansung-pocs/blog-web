(()=>{const e=document.getElementById("floatingInput"),t=document.getElementById("floatingPassword"),o=document.getElementById("loginForm"),n=document.getElementById("RegisterBtn"),a=document.getElementById("register-id"),s=document.getElementById("register-password");o.addEventListener("submit",(async function(o){o.preventDefault();const n={userName:e.value,password:t.value},a={method:"POST",headers:{"Content-Type":"application/json","x-pocs-device-type":"web"},body:JSON.stringify(n)},s=await fetch("http://34.64.170.244:80/api/auth/login",a),l=await s.json();console.log(l),200===l.status?(localStorage.setItem("sessionToken",l.data.sessionToken),localStorage.setItem("userId",l.data.user.userId),localStorage.setItem("userType",l.data.user.type),window.location.href="../html/main.html"):console.log("로그인 실패")})),n.addEventListener("click",(async function(e){e.preventDefault();const t={userName:a.value,password:s.value},o={method:"POST",headers:{"Content-Type":"application/json","x-pocs-device-type":"web"},body:JSON.stringify(t)},n=await fetch("http://34.64.170.244:80/api/users",o),l=await n.json();console.log(l),201===l.status?(alert("비회원 가입 완료"),window.location.href="../html/main.html"):(alert("다시 입력해주세요"),console.log("비회원 회원가입 실패"))}))})();