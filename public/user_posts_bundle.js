(()=>{const t=window.location.href.split("?userId=")[1];let e=localStorage.getItem("sessionToken"),n=new Headers({"x-pocs-session-token":e});document.querySelector("#notice table");const a=document.querySelector("#notice table thead"),o=document.querySelector("#notice table tbody"),s=document.querySelector("#user-post-title");let i,d=1,l=0,c=`http://www.hansungpocs.site:80/api/admin/posts/${t}?offset=15&pageNum=${d}`;function r(){fetch(c,{headers:n}).then((t=>t.json())).then((t=>{if(console.log(t),404===t.status)return alert("데이터가 없습니다!"),d=1,void p();if(i=t.data.posts.length,a.innerHTML="<tr>\n        <th>번호</th>\n        <th>제목</th>\n        <th>작성자</th>\n        <th>작성일</th>\n        <th>수정일</th>\n        <th>카테고리</th>\n    </tr>",o.innerHTML="",null===t.data)o.innerHTML="<tr><td>0</td><td>글을 작성하세요.</td><td></td></tr>";else{l=15*d-15;for(let e=0;e<i;e++)o.innerHTML+=`\n            <tr onclick="movePostDetailPage(${t.data.posts[e].postId})">\n            <td>${l+e+1}</td>\n            <td>${t.data.posts[e].title}</td>\n            <td>${t.data.posts[e].writerName||""}</td>\n            <td>${t.data.posts[e].createdAt}</td>\n            <td>${t.data.posts[e].updatedAt||""}</td>\n            <td>${t.data.posts[e].category}</td>\n            </tr>\n            `}}))}function p(){let t='<ul class="pagination justify-content-center">\n                <li class="page-item">\n                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true" onclick="movePreviousPage()">Previous</a>\n                </li>',e=5*Math.ceil(d/5);for(let n=e-4<=0?1:e-4;n<=e;n++)t+=`<li class="page-item ${d==n?"active":""}"><a class="page-link" onclick="movePage(${n})">${n}</a></li>`;t+='<li class="page-item">\n                    <a class="page-link" href="#" onclick="moveNextPage()">Next</a>\n                </li>',document.querySelector("#pagination-bar").innerHTML=t}window.moveNextPage=function(){d++,c=`http://www.hansungpocs.site:80/api/admin/posts/${t}?offset=15&pageNum=${d}`,r(),p()},window.movePreviousPage=function(){d<=1||(d--,c=`http://www.hansungpocs.site:80/api/admin/posts/${t}?offset=15&pageNum=${d}`,r(),p())},fetch(`http://www.hansungpocs.site:80/api/users/${t}`,{headers:n}).then((t=>t.json())).then((e=>{console.log(e),s.innerHTML=`${e.data.defaultInfo.name||`비회원${t}`}님의 게시글`})),r(),p()})();