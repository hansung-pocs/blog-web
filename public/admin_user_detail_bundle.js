(()=>{"use strict";function e(e){return`https://hansungpocs.site/${e}`}const n=window.location.href.split("?userId=")[1];let t=localStorage.getItem("sessionToken"),a=new Headers({"x-pocs-session-token":t});const o=document.querySelector("#user_detail_title"),i=document.querySelector("#user_detail_editBtn a"),r=document.querySelector("#user_detail_userName"),d=document.querySelector("#user_detail_email"),s=document.querySelector("#user_detail_studentId"),u=document.querySelector("#user_detail_generation"),l=document.querySelector("#user_detail_company"),c=document.querySelector("#user_detail_github"),f=document.querySelector("#user_img");window.LookupUserPost=function(){window.location.href=`./user_posts.html?userId=${n}`},window.userKick=async function(){const a=new Date,o={canceldAt:`${a.getFullYear()}-${("0"+(a.getMonth()+1)).slice(-2)}-${("0"+a.getDate()).slice(-2)} ${("0"+a.getHours()).slice(-2)}:${("0"+a.getMinutes()).slice(-2)}:${("0"+a.getSeconds()).slice(-2)}`},i={method:"PATCH",headers:{"Content-Type":"application/json","x-pocs-session-token":t},body:JSON.stringify(o)},r=await fetch(e(`api/admin/users/${n}/kick`),i),d=await r.json();201===d.status?window.location.href="./admin.html":console.log(d.message)},fetch(e(`api/admin/users/${n}`),{headers:a}).then((e=>e.json())).then((t=>{console.log(t),403===t.status?(o.innerHTML="존재하지 않은 회원입니다.",r.innerHTML="",d.innerHTML="",s.innerHTML="",u.innerHTML="",l.innerHTML="",c.innerHTML=""):"anonymous"===t.data.type?(user_detail_editBtn.classList.add("hidden"),o.innerHTML="해당 회원은 비회원입니다.",r.innerHTML=`익명${t.data.userId}`,d.innerHTML="",s.innerHTML="",u.innerHTML="",l.innerHTML="",c.innerHTML=""):(o.innerHTML=`\n                ${t.data.defaultInfo.name||`익명${t.data.userId}`}님의 정보\n            `,i.href="user_detail_edit.html?userId="+n,r.innerHTML=`${t.data.defaultInfo.name}`,d.innerHTML=`${t.data.defaultInfo.email}`,s.innerHTML=`${t.data.defaultInfo.studentId}`,u.innerHTML=`${t.data.defaultInfo.generation}`,null!=t.data.defaultInfo.userProfilePath?f.src=`${e(`${t.data.defaultInfo.userProfilePath}`)}`:f.src="../img/logo.png",null==t.data.defaultInfo.company||"undefined"==t.data.defaultInfo.company?l.innerHTML="":l.innerHTML=`${t.data.defaultInfo.company}`,null==t.data.defaultInfo.company||"undefined"==t.data.defaultInfo.company?c.innerHTML="":c.innerHTML=`${t.data.defaultInfo.github}`)}))})();