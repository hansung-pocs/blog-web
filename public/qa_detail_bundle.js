(()=>{"use strict";function t(t){return`http://www.hansungpocs.site:80/${t}`}const e=window.location.href.split("?postId=")[1],n=document.querySelector("#edit-button");document.querySelector("#delete-form"),localStorage.getItem("userType");let o,a=localStorage.getItem("sessionToken"),s=new Headers({"x-pocs-session-token":a});window.DeleteQa=async function(){const n={userId:o},s={method:"PATCH",headers:{"Content-Type":"application/json","x-pocs-session-token":a},body:JSON.stringify(n)},i=await fetch(t(`api/posts/${e}/delete`),s),d=await i.json();console.log(d.status),201===d.status?(window.location.href="./qa.html",console.log("삭제 성공")):console.log(d.message)},window.qaWriterId=o,n.addEventListener("click",(function(){window.location.href=`./qa_detail_edit.html?postId=${e}`})),async function(){const n=document.querySelector("#qa-title-first"),a=document.querySelector("#qa-title-second"),i=document.querySelector("#qa-detail-content");await fetch(t(`api/posts/${e}`),{headers:s}).then((t=>t.json())).then((t=>{if(console.log(t),403===t.status||404===t.status||500===t.status)n.innerHTML="삭제되었거나 없는 게시글입니다.",a.innerHTML="",qa_buttons.classList.add("hidden");else{let e=function(t){return"QNA"===t||"qna"===t?"Q/A":"?"}(t.data.category);console.log(e),n.innerHTML=`<h3>[<span id="title_category">${e}</span>]${t.data.title}</h3>`,a.innerHTML=`\n                <div class="me-2">${t.data.onlyMember?"회원 전용 | ":""}</div>\n            <div class="me-2">${t.data.updatedAt||t.data.createdAt}</div>\n            <div class="me-2"> 익명 </div>\n            <div>조회수 ${t.data.views}</div>\n            `,i.innerHTML=`<div style="min-height: 200px">${marked.parse(t.data.content)}</div>`,o=t.data.writer.userId,present_page_title=t.data.title,present_page_content=t.data.content,category=t.data.category,o=""}})),function(){let t=localStorage.getItem("userId");const e=document.querySelector(".qa-buttons");t!=o?e.classList.add("hidden"):e.classList.add("non-hidden")}()}()})();