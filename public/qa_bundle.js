(()=>{document.querySelector("#qa table");const t=document.querySelector("#qa table thead"),e=document.querySelector("#qa table tbody");localStorage.getItem("userType");let a,n=localStorage.getItem("sessionToken"),o=new Headers({"x-pocs-session-token":n}),s=1,i=`http://34.64.170.244:80/api/posts?id=qna&offset=15&pageNum=${s}`;async function l(){await fetch(i,{headers:o}).then((t=>t.json())).then((n=>{if(console.log(n),t.innerHTML='<tr class="post-list">\n      <th>번호</th>\n      <th>제목</th>\n      <th>작성자</th>\n      <th>작성일</th>\n      <th>카테고리</th>\n  </tr>',e.innerHTML="",null===n.data)e.innerHTML="<tr><td>0</td><td>글을 작성하세요.</td><td></td></tr>";else{a=Math.ceil(n.data.categories[5].count/15);for(let t=0;t<n.data.posts.length;t++)e.innerHTML+=`\n      <tr class="post-list">\n      <td>${n.data.posts[t].postId}</td>\n      <td onclick="goQaDetailPage(${n.data.posts[t].postId})"\n          >${n.data.posts[t].title}</td>\n      <td>익명</td>\n      <td>${n.data.posts[t].createdAt}</td>\n      <td>${n.data.posts[t].category}</td>\n      </tr>\n      `}})),await c()}function c(){let t='<ul class="pagination justify-content-center">\n              <li class="page-item">\n                  <a class="page-link" href="#" tabindex="-1" aria-disabled="true" onclick="movePreviousPage()">Previous</a>\n              </li>',e=5*Math.ceil(s/5);e>a&&(e=a);for(let a=e-4<=0?1:e-4;a<=e;a++)t+=`<li class="page-item ${s==a?"active":""}"><a class="page-link" onclick="movePage(${a})">${a}</a></li>`;t+='<li class="page-item">\n                  <a class="page-link" href="#" onclick="moveNextPage()">Next</a>\n              </li>',document.querySelector("#post-pagination-bar").innerHTML=t}window.moveQaAddPage=function(){const t=localStorage.getItem("userType");console.log(t),window.location.href="../html/qa_add.html"},window.movePage=function(t){s!==t&&(s=t,i=`http://34.64.170.244:80/api/posts?id=qna&offset=15&pageNum=${s}`,l(),c())},window.moveNextPage=function(){s>=a||(s++,i=`http://34.64.170.244:80/api/posts?id=qna&offset=15&pageNum=${s}`,l(),c())},window.movePreviousPage=function(){s<=1||(s--,i=`http://34.64.170.244:80/api/posts?id=qna&offset=15&pageNum=${s}`,l(),c())},fetch(i,{headers:o}).then((t=>t.json())).then((t=>{})),l()})();