(()=>{const e=window.location.href.split("?userId=")[1],t=new URL(`http://34.64.170.244:80/api/users/${e}`);let n=localStorage.getItem("sessionToken"),a=new Headers({"x-pocs-session-token":n});const o=document.querySelector("#user_detail_title"),d=document.querySelector("#user_detail_editBtn a"),l=document.querySelector("#user_detail_editBtn"),s=document.querySelector("#user_detail_kickBtn"),r=document.querySelector("#user_detail_look_postBtn"),i=document.querySelector("#user_detail_userName"),u=document.querySelector("#user_detail_email"),c=document.querySelector("#user_detail_studentId"),f=document.querySelector("#user_detail_generation"),m=document.querySelector("#user_detail_company"),h=document.querySelector("#user_detail_github"),_=document.querySelector("#user_img");window.userKick=async function(){const t=new Date,n={canceldAt:`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)} ${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}:${("0"+t.getSeconds()).slice(-2)}`},a={method:"PATCH",headers:{"Content-Type":"application/json","x-pocs-session-token":sessionToken},body:JSON.stringify(n)},o=await fetch(`http://34.64.170.244:80/api/admin/users/${e}/kick`,a),d=await o.json();201===d.status?window.location.href="../html/admin.html":console.log(d.message)},window.LookupUserPost=function(){window.location.href=`../html/user_posts.html?userId=${e}`},fetch(t,{headers:a}).then((e=>e.json())).then((t=>{console.log(t),403===t.status?(o.innerHTML="존재하지 않은 회원입니다.",i.innerHTML="",u.innerHTML="",c.innerHTML="",f.innerHTML="",m.innerHTML="",h.innerHTML=""):(o.innerHTML=`\n                ${t.data.defaultInfo.name}님의 정보\n            `,d.href="user_detail_edit.html?userId="+e,i.innerHTML=`${t.data.defaultInfo.name}`,u.innerHTML=`${t.data.defaultInfo.email}`,c.innerHTML=`${t.data.defaultInfo.studentId}`,f.innerHTML=`${t.data.defaultInfo.generation}`,null!=t.data.defaultInfo.userProfilePath?_.src=`http://34.64.170.244${t.data.defaultInfo.userProfilePath}`:_.src="../img/logo.png",""===t.data.defaultInfo.company||"undefined"==t.data.defaultInfo.company||null==t.data.defaultInfo.company?m.innerHTML="-":m.innerHTML=`${t.data.defaultInfo.company}`,""===t.data.defaultInfo.company||"undefined"==t.data.defaultInfo.company||null==t.data.defaultInfo.github?h.innerHTML="-":h.innerHTML=`${t.data.defaultInfo.github}`,null===t.data.defaultInfo.userProfilePath?profileImage.src="../img/logo.png":profileImage.src=`http://34.64.170.244:80/${t.data.defaultInfo.userProfilePath}`)})),function(){let t=localStorage.getItem("userId");"member"===localStorage.getItem("userType")&&(t!==e?(l.classList.add("hidden"),s.classList.add("hidden"),r.classList.add("hidden"),document.querySelector("#user_detail_userName").classList.replace("col-8","col-10")):(s.classList.add("hidden"),r.classList.add("hidden"),document.querySelector("#user_detail_userName").classList.replace("col-8","col-10")))}()})();