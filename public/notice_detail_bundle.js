(()=>{"use strict";function t(t){return`http://www.hansungpocs.site:80/${t}`}const e=window.location.href.split("?postId=")[1];console.log(e);let n,o=localStorage.getItem("sessionToken"),s=new Headers({"x-pocs-session-token":o});function i(){window.location.href="./notices.html"}window.backToList=i,window.gotoNoticeEditPage=function(){window.location.href=`./notices_detail_edit.html?postId=${e}`},window.DeleteNotice=async function(){const s={userId:n},a={method:"PATCH",headers:{"Content-Type":"application/json","x-pocs-session-token":o},body:JSON.stringify(s)},d=await fetch(t(`api/posts/${e}/delete`),a),c=await d.json();console.log(c.status),200===c.status?i():console.log(c.message)},async function(){const o=document.querySelector(".notice-title-first"),i=document.querySelector(".notice-title-second"),a=document.querySelector(".notice-detail-content");await fetch(t(`api/posts/${e}`),{headers:s}).then((t=>t.json())).then((t=>{console.log(t),403===t.status||404===t.status||500===t.status?(o.innerHTML="삭제되었거나 없는 게시글입니다.",i.innerHTML="",posts_buttons.classList.add("hidden")):(o.innerHTML=`<h3>[<span id="title_category">${t.data.category}</span>]${t.data.title}</h3>`,i.innerHTML=`\n                <div class="me-2">${t.data.onlyMember?"회원 전용 | ":""}</div>\n                <div class="me-2">${t.data.updatedAt||t.data.createdAt}</div>\n                <div class="me-2"> ${t.data.writer.name} </div>\n                <div>조회수 ${t.data.views}</div>\n                `,a.innerHTML=`<div style="min-height: 200px">${marked.parse(t.data.content)}</div>`,n=t.data.writer.userId)}))}()})();